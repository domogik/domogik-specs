

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Exemple de fonctionnement du plugin &mdash; Domogik specifications 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Domogik specifications 0.1 documentation" href="../../index.html" />
    <link rel="next" title="Purpose" href="../plugin_lighting/plugin_lighting.html" />
    <link rel="prev" title="Installation du BCUSDK" href="../plugin_knx/plugin_knx.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../plugin_lighting/plugin_lighting.html" title="Purpose"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../plugin_knx/plugin_knx.html" title="Installation du BCUSDK"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Domogik specifications 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="exemple-de-fonctionnement-du-plugin">
<h1>Exemple de fonctionnement du plugin<a class="headerlink" href="#exemple-de-fonctionnement-du-plugin" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>Considérations générales pour les exemples suivants:</div></blockquote>
<hr class="docutils" />
<p>1.1.1 est un interrupteur permettant de commander divers groupes
1.1.2 est un actionneur 10 sorties
2.1.1 est une télécommande radio HF</p>
<p>Les groupes permettant d&#8217;actionner les sorties individuellement sont de 1/1/1 à 1/1/10</p>
<p>Le groupe 1/1/0 commande l&#8217;ensemble des sorties de l&#8217;actionneur 1.1.2</p>
<p>Les groupes de 2/1/1 à 2/1/10 représentent les états des différentes sorties de l&#8217;actionneur 1.1.2</p>
<div class="section" id="fonctionnement-simple">
<h2>Fonctionnement simple<a class="headerlink" href="#fonctionnement-simple" title="Permalink to this headline">¶</a></h2>
<div class="section" id="er-cas-action-sur-une-commande-simple">
<h3>1er cas: Action sur une commande simple<a class="headerlink" href="#er-cas-action-sur-une-commande-simple" title="Permalink to this headline">¶</a></h3>
<p>&#8216;&#8217;Une personne appuie sur l&#8217;interrupteur pour allumer la sortie 1 de l&#8217;actionneur&#8217;&#8217;
EIBD = Write from 1.1.1 to 1/1/1 : 01  =&gt; xpl-trig &#8220;command=Write, group=1:1:1, type=s, data=01&#8221;
&#8216;&#8217;L&#8217;actionneur change l&#8217;état de la sortie, et modifie le groupe qui représente l&#8217;état de la sortie 1&#8217;&#8217;
EIBD = Write from 1.1.2 to 2/1/1 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:1, type=s, data=01&#8221;</p>
</div>
<div class="section" id="eme-cas-action-sur-une-commande-groupee-puis-une-commande-simple">
<h3>2eme cas: Action sur une commande groupée puis une commande simple<a class="headerlink" href="#eme-cas-action-sur-une-commande-groupee-puis-une-commande-simple" title="Permalink to this headline">¶</a></h3>
<p>&#8216;&#8217;Une personne appuie sur l&#8217;interrupteur, demande l&#8217;allumage général, puis appuie sur une autre touche pour éteindre la sortie 2&#8217;&#8217;
EIBD = Write from 1.1.1 to 1/1/0 : 01 =&gt; xpl-trig &#8220;command=Write, group=1:1:0, type=s, data=01&#8221;
&#8216;&#8217;L&#8217;actionneur change l&#8217;état des sorties et modifie les groupes qui représente les états des sorties&#8217;&#8217;
EIBD = Write from 1.1.2 to 2/1/1 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:1, type=s, data=01&#8221;
EIBD = Write from 1.1.2 to 2/1/2 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:2, type=s, data=01&#8221;
EIBD = Write from 1.1.2 to 2/1/3 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:3, type=s, data=01&#8221;
EIBD = Write from 1.1.2 to 2/1/4 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:4, type=s, data=01&#8221;
EIBD = Write from 1.1.2 to 2/1/5 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:5, type=s, data=01&#8221;
...
EIBD = Write from 1.1.2 to 2/1/10 : 01 =&gt; xpl-trig &#8220;command=Write, group=2:1:10, type=s, data=01&#8221;
&#8216;&#8217;Puis 2eme appui&#8217;&#8217;
EIBD = Write from 1.1.1 to 1/1/2 : 00 =&gt; xpl-trig &#8220;command=Write, group=1:1:2, type=s, data=00&#8221;
&#8216;&#8217;L&#8217;actionneur change l&#8217;état de la sortie 2 et modifie le groupe qui représente la sortie&#8217;&#8217;
EIBD = Write from 1.1.2 to 2/1/2 : 00 =&gt; xpl-trig &#8220;command=Write, group=2:1:2, type=s, data=00&#8221;</p>
</div>
<div class="section" id="eme-cas-action-sur-une-commande-simple-non-reliee-au-bus-physiquement">
<h3>3ème cas: Action sur une commande simple non reliée au bus physiquement<a class="headerlink" href="#eme-cas-action-sur-une-commande-simple-non-reliee-au-bus-physiquement" title="Permalink to this headline">¶</a></h3>
<p>On appuie sur une télécommande Radio HF, celle ci de part sa mobilité a un protocole afin de connaître l&#8217;action qu&#8217;elle doit effectuer.</p>
<p>&#8216;&#8217;La télécommande demande la valeur du groupe qui représente l&#8217;état de la sortie 1&#8217;&#8217;
EIBD = Read from 2.1.1 to 2/1/1  =&gt; xpl-trig &#8220;command=Read, group=2:1:1, type=none, data=none&#8221;
&#8216;&#8217;L&#8217;actionneur lui répond que le groupe est a 1&#8217;&#8217;
EIBD = Responce from 1.1.2 to 2/1/1 : 01 =&gt; xpl-stat &#8220;command=Responce, group=2:1:1, type=s, data=01&#8221;
&#8216;&#8217;La télécommande en déduit qu&#8217;il faut mettre la sortie a 00 puisqu&#8217;elle est déjà a 01&#8217;&#8217;
EIBD = Write from 2.1.1 to 1/1/1 : 00 =&gt; xpl-trig &#8220;command=Write, group=1:1:1, type=s, data=00&#8221;
&#8216;&#8217;L&#8217;actionneur modifie la valeur du groupe qui représente la sortie&#8217;&#8217;
EIBD = Write from 1.1.2 to 2/1/1 : 00 =&gt; xpl-trig &#8220;command=Write, group=2:1:1, type=s, data=00&#8221;</p>
</div>
<div class="section" id="eme-cas-action-sur-une-commande-de-l-ihm">
<h3>4ème cas: Action sur une commande de l&#8217;IHM<a class="headerlink" href="#eme-cas-action-sur-une-commande-de-l-ihm" title="Permalink to this headline">¶</a></h3>
<p>&#8216;&#8217;Depuis l&#8217;ihm on commande la sortie 3 de l&#8217;actionneur 1.1.2&#8217;&#8217;
&#8216;&#8217;On appuie donc sur le widget qui va bien&#8217;&#8217;
Widget =&gt; xpl-cmnd &#8220;command=Write, group=1:1:3, type=s, data=01&#8221; =&gt; EIBD= Write from 0.0.0 to 1/1/3 : 01
=&gt;xpl-trig &#8220;command=Write, group=1:1:3, type=s, data=01&#8221;
&#8216;&#8217;L&#8217;actionneur change la valeur du groupe qui représente l&#8217;état de la sortie 3&#8217;&#8217;
EIBD=Write from 1.1.2 to 2/1/3 : 01 =&gt; xpl-trig &#8220;command=Write, group=2.1.3, type=s, data=01&#8221;</p>
</div>
</div>
</div>
<div class="section" id="interaction-possible-entre-l-ihm-et-le-bus-knx-grace-au-scenario">
<h1>Interaction possible entre l&#8217;IHM et le bus KNX grâce au scénario<a class="headerlink" href="#interaction-possible-entre-l-ihm-et-le-bus-knx-grace-au-scenario" title="Permalink to this headline">¶</a></h1>
<div class="section" id="er-cas-scenario-simple">
<h2>1er cas: Scénario simple<a class="headerlink" href="#er-cas-scenario-simple" title="Permalink to this headline">¶</a></h2>
<p>La première possibilité d&#8217;utilisation des interactions entre domogik et le bus est le déclenchement sur condition, par exemple:</p>
<p>SI la sonde de température Onewire A &lt; 10°C ALORS mise en mode marche du chauffage</p>
<p>Dans ce cas l&#8217;action part de Domogik vers le bus, le scénario sert alors a faire une dérogation sur le système KNX</p>
</div>
<div class="section" id="eme-cas-scenario-complexe">
<h2>2eme cas: Scénario complexe<a class="headerlink" href="#eme-cas-scenario-complexe" title="Permalink to this headline">¶</a></h2>
<p>On peut utiliser un groupe de commande KNX pour déclencher un scénario sur Domogik. Par exemple une simulation de présence, dans ce cas une action Write sur le bus déclenche un scénario sur de Domogik entraînant une chaîne d&#8217;actions. Dans ce cas Domogik devient en partie acteur du système (il pilote différentes sorties avec des horaires par exemple ou des conditions propre au bus)</p>
</div>
<div class="section" id="eme-cas-liaison-entre-plusieurs-technologies">
<h2>3ème cas: Liaison entre plusieurs technologies.<a class="headerlink" href="#eme-cas-liaison-entre-plusieurs-technologies" title="Permalink to this headline">¶</a></h2>
<p>Par exemple envoyer à intervalle régulier la température d&#8217;une sonde sur le bus (Le bus réagira comme si un participant du bus était une sonde de température). Pour que Domogik soit totalement vue comme un participant il faudra qu&#8217;il soit en mesure de répondre a une demande d&#8217;état du bus, ce qui nécessitera un petit scénario, domogik déclenchera un xpl-stat, une commande de type Response sur le bus.</p>
<p>Grâce à ces micros scripts, Domogik permettra d&#8217;interagir à double sens sur le bus knx à partir de n&#8217;importe quel technologie.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Exemple de fonctionnement du plugin</a><ul>
<li><a class="reference internal" href="#fonctionnement-simple">Fonctionnement simple</a><ul>
<li><a class="reference internal" href="#er-cas-action-sur-une-commande-simple">1er cas: Action sur une commande simple</a></li>
<li><a class="reference internal" href="#eme-cas-action-sur-une-commande-groupee-puis-une-commande-simple">2eme cas: Action sur une commande groupée puis une commande simple</a></li>
<li><a class="reference internal" href="#eme-cas-action-sur-une-commande-simple-non-reliee-au-bus-physiquement">3ème cas: Action sur une commande simple non reliée au bus physiquement</a></li>
<li><a class="reference internal" href="#eme-cas-action-sur-une-commande-de-l-ihm">4ème cas: Action sur une commande de l&#8217;IHM</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interaction-possible-entre-l-ihm-et-le-bus-knx-grace-au-scenario">Interaction possible entre l&#8217;IHM et le bus KNX grâce au scénario</a><ul>
<li><a class="reference internal" href="#er-cas-scenario-simple">1er cas: Scénario simple</a></li>
<li><a class="reference internal" href="#eme-cas-scenario-complexe">2eme cas: Scénario complexe</a></li>
<li><a class="reference internal" href="#eme-cas-liaison-entre-plusieurs-technologies">3ème cas: Liaison entre plusieurs technologies.</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../plugin_knx/plugin_knx.html"
                        title="previous chapter">Installation du BCUSDK</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../plugin_lighting/plugin_lighting.html"
                        title="next chapter">Purpose</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/pages/plugin_knx_exemple/plugin_knx_exemple.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../plugin_lighting/plugin_lighting.html" title="Purpose"
             >next</a> |</li>
        <li class="right" >
          <a href="../plugin_knx/plugin_knx.html" title="Installation du BCUSDK"
             >previous</a> |</li>
        <li><a href="../../index.html">Domogik specifications 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Domogik team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>